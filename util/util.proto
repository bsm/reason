syntax = "proto3";

package blacksquaremedia.reason.util;

import "github.com/gogo/protobuf/gogoproto/gogo.proto";

option (gogoproto.goproto_getters_all) = false;
option (gogoproto.goproto_stringer_all) = true;
option (gogoproto.goproto_unrecognized_all) = false;

option go_package = "util";
option java_package = "com.blacksquaremedia.reason";
option java_outer_classname = "UtilProtos";

// Vector represents a vector of weights.
// The minimum value of each vector element is 0, which indicates "not set".
message Vector {
  repeated double data = 1 [packed=true];
  repeated int64 sparse = 2;
}

// Vector maintains a distribution of vectors.
message VectorDistribution {
  message Dense {
    Vector vector = 1 [(gogoproto.embed) = true];
  }

  repeated Dense dense = 1 [(gogoproto.nullable) = false];
  map<int64, Vector> sparse = 2;
  int64 sparse_cap = 3;
}
